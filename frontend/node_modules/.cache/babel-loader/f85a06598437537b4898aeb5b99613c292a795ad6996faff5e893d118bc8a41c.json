{"ast":null,"code":"import React,{useState,useEffect}from'react';import LoginPage from'./LoginPage';import Dashboard from'./Dashboard';import PinEntryPage from'./PinEntryPage';import BanPage from'./BanPage';import toast,{Toaster}from'react-hot-toast';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[isLoading,setIsLoading]=useState(true);const[currentPage,setCurrentPage]=useState('login');useEffect(()=>{// Sayfa yüklendiğinde token kontrolü\nconst token=localStorage.getItem('token');const userData=localStorage.getItem('user');console.log('App.js - Token kontrolü:',token?'Token var':'Token yok');console.log('App.js - User data:',userData?'User var':'User yok');if(token&&userData){try{const parsedUser=JSON.parse(userData);console.log('App.js - Parsed user:',parsedUser);setUser(parsedUser);setCurrentPage('dashboard');console.log('App.js - Dashboard\\'a yönlendiriliyor');}catch(error){console.error('App.js - User parse hatası:',error);localStorage.removeItem('token');localStorage.removeItem('user');}}setIsLoading(false);},[]);const handleLogin=userData=>{console.log('App.js - handleLogin çağrıldı:',userData);setUser(userData);setCurrentPage('dashboard');console.log('App.js - Dashboard\\'a yönlendirildi');};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');setUser(null);setCurrentPage('login');toast.success('Çıkış yapıldı!');};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%)',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',fontSize:'1.5rem'},children:\"Y\\xFCkleniyor...\"});}// URL'den sayfa kontrolü\nconst urlPath=window.location.pathname;if(urlPath==='/pin'){return/*#__PURE__*/_jsx(PinEntryPage,{});}if(urlPath==='/ban'){// URL'den ban bilgilerini al\nconst searchParams=new URLSearchParams(window.location.search);const banInfo={reason:searchParams.get('reason')||'No reason provided',bannedAt:searchParams.get('bannedAt')||new Date().toISOString()};return/*#__PURE__*/_jsx(BanPage,{banInfo:banInfo});}return/*#__PURE__*/_jsxs(_Fragment,{children:[currentPage==='dashboard'&&user?/*#__PURE__*/_jsx(Dashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(LoginPage,{onLogin:handleLogin}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:'#1f2937',color:'#fff',border:'1px solid rgba(220, 38, 38, 0.3)',borderRadius:'8px'}}})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","LoginPage","Dashboard","PinEntryPage","BanPage","toast","Toaster","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","user","setUser","isLoading","setIsLoading","currentPage","setCurrentPage","token","localStorage","getItem","userData","console","log","parsedUser","JSON","parse","error","removeItem","handleLogin","handleLogout","success","style","minHeight","background","display","alignItems","justifyContent","color","fontSize","children","urlPath","window","location","pathname","searchParams","URLSearchParams","search","banInfo","reason","get","bannedAt","Date","toISOString","onLogout","onLogin","position","toastOptions","duration","border","borderRadius"],"sources":["C:/Users/durgu/void-scanner/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport LoginPage from './LoginPage';\r\nimport Dashboard from './Dashboard';\r\nimport PinEntryPage from './PinEntryPage';\r\nimport BanPage from './BanPage';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState('login');\r\n\r\n  useEffect(() => {\r\n    // Sayfa yüklendiğinde token kontrolü\r\n    const token = localStorage.getItem('token');\r\n    const userData = localStorage.getItem('user');\r\n    \r\n    console.log('App.js - Token kontrolü:', token ? 'Token var' : 'Token yok');\r\n    console.log('App.js - User data:', userData ? 'User var' : 'User yok');\r\n    \r\n    if (token && userData) {\r\n      try {\r\n        const parsedUser = JSON.parse(userData);\r\n        console.log('App.js - Parsed user:', parsedUser);\r\n        setUser(parsedUser);\r\n        setCurrentPage('dashboard');\r\n        console.log('App.js - Dashboard\\'a yönlendiriliyor');\r\n      } catch (error) {\r\n        console.error('App.js - User parse hatası:', error);\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n      }\r\n    }\r\n    \r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  const handleLogin = (userData) => {\r\n    console.log('App.js - handleLogin çağrıldı:', userData);\r\n    setUser(userData);\r\n    setCurrentPage('dashboard');\r\n    console.log('App.js - Dashboard\\'a yönlendirildi');\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    setUser(null);\r\n    setCurrentPage('login');\r\n    toast.success('Çıkış yapıldı!');\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div style={{\r\n        minHeight: '100vh',\r\n        background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        color: '#fff',\r\n        fontSize: '1.5rem'\r\n      }}>\r\n        Yükleniyor...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // URL'den sayfa kontrolü\r\n  const urlPath = window.location.pathname;\r\n  if (urlPath === '/pin') {\r\n    return <PinEntryPage />;\r\n  }\r\n  if (urlPath === '/ban') {\r\n    // URL'den ban bilgilerini al\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    const banInfo = {\r\n      reason: searchParams.get('reason') || 'No reason provided',\r\n      bannedAt: searchParams.get('bannedAt') || new Date().toISOString()\r\n    };\r\n    return <BanPage banInfo={banInfo} />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {currentPage === 'dashboard' && user ? (\r\n        <Dashboard user={user} onLogout={handleLogout} />\r\n      ) : (\r\n        <LoginPage onLogin={handleLogin} />\r\n      )}\r\n      <Toaster \r\n        position=\"top-right\"\r\n        toastOptions={{\r\n          duration: 4000,\r\n          style: {\r\n            background: '#1f2937',\r\n            color: '#fff',\r\n            border: '1px solid rgba(220, 38, 38, 0.3)',\r\n            borderRadius: '8px'\r\n          },\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}